var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,a=(e,a)=>{for(var s in a||(a={}))t.call(a,s)&&n(e,s,a[s]);if(o)for(var s of o(a))r.call(a,s)&&n(e,s,a[s]);return e};import{e as s,a as i,q as c,d as l,b as u,h as d,r as p,c as m,f,P as _,g as h,S as g,B as y,U as w,m as E,i as b,R as v,j as L}from"./vendor.53115a9c.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const r=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,a)=>{const s=new URL(e,r);if(self[t].moduleMap[s])return o(self[t].moduleMap[s]);const i=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){a(new Error(`Failed to import: ${e}`)),n(c)},onload(){o(self[t].moduleMap[s]),n(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/vite-react/assets/");const O={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"},x=s({errorHandler:e=>{const{response:t}=e;if(t&&t.status){const e=O[t.status]||t.statusText,{status:o,url:r}=t;i.error({message:`请求错误 ${o}: ${r}`,description:e})}else t||i.error({description:"您的网络发生异常，无法连接服务器",message:"网络异常"});return t},credentials:"include"});async function P(e){return x(`/api/login/captcha?mobile=${e}`)}const j=()=>c.parse(window.location.href.split("?")[1]),R=l({state:{status:"",type:""},reducer:{login:async(e,t,o)=>{const r=await async function(e){return x("/api/login/account",{method:"POST",data:e})}(e);if(o.dispatch(R.reducer.changeLoginStatus,r),"ok"===r.status){localStorage.setItem("status","ok");const e=new URL(window.location.href),t=j();u.success("🎉 🎉 🎉  登录成功！");let{redirect:o}=t;if(o){if(new URL(o).origin!==e.origin)return void(window.location.href="/");o=o.substr(e.origin.length),"/"!==window.routerBase&&(o=o.replace(window.routerBase,"/")),o.match(/^\/.*#/)&&(o=o.substr(o.indexOf("#")+1))}d.replace(o||"/")}},logout(){localStorage.removeItem("status");const{redirect:e}=j();"/user/login"===window.location.pathname||e||d.replace({pathname:"/user/login",search:c.stringify({redirect:window.location.href})})},changeLoginStatus:e=>({status:e.status,type:e.type})}});const k=l({state:{address:"",avatar:"",email:"",name:"",position:""},reducer:{fetchMe:async()=>(await async function(){return x("/api/me")}()).data}});let I;p(a({counter:{state:{num:1,numBig:100}}},{login:R,me:k}),{plugins:[m]});const T={},B=function(e,t){if(!t)return e();if(void 0===I){const e=document.createElement("link").relList;I=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in T)return;T[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":I,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))};var D=[{url:"/api/login/account",method:"post",timeout:240,response:({body:e})=>{const{password:t,userName:o,type:r}=e;return"vite-react"===t&&"admin"===o?{status:"ok",type:r,authority:"admin"}:"vite-react"===t&&"user"===o?{status:"ok",type:r,authority:"user"}:"mobile"===r?{status:"ok",type:r,authority:"admin"}:{status:"error",type:r,authority:"guest"}}},{url:"/api/login/captcha",method:"get",timeout:240,response:()=>({code:0,data:"captcha-xxx"})},{url:"/api/me",method:"get",timeout:240,response:()=>({code:0,data:{address:"广东深圳",avatar:"https://avatars.githubusercontent.com/u/18096089?s=460&u=ac70c17caf8cb7e48d0a4f8b8ef28825688cbb8d&v=4",email:"yuns.xie@qq.com",name:"云深",position:"前端开发工程师"}})}];function S(e){return`${"/"===window.routerBase?"":window.routerBase}${e}`.replace(/\/\//g,"/")}function $(e=0){e&&E.setup({timeout:e})}function A(e){const t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}function V(e){const t=a({},e);return(null==e?void 0:e.method)||(t.method="GET"),(null==e?void 0:e.body)&&(t.body=function(e){try{return JSON.parse(e)}catch(t){return console.log("loadBody error",t),e}}(e.body)),t}!function(){if(!E||!E.mock)throw new Error("Mock.js is required.");window.__fetchBackup__||(window.__fetchBackup__=window.fetch,window.fetch=function(e,t){const o=S(e),r=V(t),n=r.method;console.log(`${n} ${o}`,"init: ",r);const s=E._mocked,i=Object.keys(s).find((e=>{const t=s[e],n="string"==typeof t.rurl&&t.rurl.indexOf(o)>=0||t.rurl instanceof RegExp&&t.rurl.test(o),a=!t.rtype||t.rtype.toLowerCase()===r.method.toLowerCase();return n&&a}));return i?function(e,t,o){let r=E.XHR._settings.timeout||"200-400";if("string"==typeof r){const e=r.split("-").map((e=>parseInt(e)));r=e[0]+Math.round(Math.random()*(e[1]-e[0]))}return new Promise((n=>{const s="function"==typeof o.template?o.template.call(this,{query:A(e),body:null==t?void 0:t.body,headers:null==t?void 0:t.headers}):E.mock(o.template);setTimeout((()=>{const e={status:200,text:()=>Promise.resolve(JSON.stringify(s)),json:()=>Promise.resolve(s),blob:()=>Promise.resolve(s),formData:()=>Promise.resolve(s),arrayBuffer:()=>Promise.resolve(s)};n(a(a({},e),{clone:()=>e}))}),r)}))}(o,r,s[i]):window.__fetchBackup__(e,t)})}(),function(e){for(const{url:t,method:o,response:r,timeout:n}of e)$(n),E.mock(new RegExp(S(t)),o||"get",r)}(D),b.render(h.createElement(h.StrictMode,null,h.createElement(v,{history:d},L({routes:[{path:"/",component:f({loader:()=>B((()=>__import__("./BlankLayout.cf1e5247.js")),["/vite-react/assets/BlankLayout.cf1e5247.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css"]),loading:_}),routes:[{path:"/user",component:f({loader:()=>B((()=>__import__("./UserLayout.8785fced.js")),["/vite-react/assets/UserLayout.8785fced.js","/vite-react/assets/UserLayout.d17bd6ac.css","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.19a3bd1b.js"]),loading:_}),routes:[{name:"登录",path:"/user/login",component:f({loader:()=>B((()=>__import__("./index.a68e67c4.js")),["/vite-react/assets/index.a68e67c4.js","/vite-react/assets/index.beca649d.css","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/TextArea.7f26e7b3.js","/vite-react/assets/TextArea.8b5df817.css"]),loading:_}),exact:!0}]},{path:"/",component:f({loader:()=>B((()=>__import__("./SecurityLayout.0934dca0.js")),["/vite-react/assets/SecurityLayout.0934dca0.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css"]),loading:_}),routes:[{path:"/",component:f({loader:()=>B((()=>__import__("./BasicLayout.46f38cd1.js")),["/vite-react/assets/BasicLayout.46f38cd1.js","/vite-react/assets/BasicLayout.c65da4af.css","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.19a3bd1b.js"]),loading:_}),routes:[{path:"/",redirect:"/welcome",exact:!0},{path:"/welcome",icon:h.createElement(g),name:"欢迎页",component:f({loader:()=>B((()=>__import__("./index.00c304df.js")),["/vite-react/assets/index.00c304df.js","/vite-react/assets/index.ec717cb5.css","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.68a607f5.js","/vite-react/assets/index.77568c40.css","/vite-react/assets/TextArea.7f26e7b3.js","/vite-react/assets/TextArea.8b5df817.css"]),loading:_}),exact:!0},{path:"/concent",icon:h.createElement(y),name:"Concent Demo",component:f({loader:()=>B((()=>__import__("./index.b1f5ae01.js")),["/vite-react/assets/index.b1f5ae01.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.68a607f5.js","/vite-react/assets/index.77568c40.css"]),loading:_}),exact:!0},{path:"/account",icon:h.createElement(w),name:"个人页",routes:[{path:"/account/center",name:"个人中心",component:f({loader:()=>B((()=>__import__("./index.1daff7f3.js")),["/vite-react/assets/index.1daff7f3.js","/vite-react/assets/index.d5947583.css","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.68a607f5.js","/vite-react/assets/index.77568c40.css","/vite-react/assets/index.02f8e336.js"]),loading:_}),exact:!0},{path:"/account/settings",name:"个人设置",component:f({loader:()=>B((()=>__import__("./index.6478711e.js")),["/vite-react/assets/index.6478711e.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css","/vite-react/assets/index.68a607f5.js","/vite-react/assets/index.77568c40.css","/vite-react/assets/index.02f8e336.js"]),loading:_}),exact:!0}]}]},{component:f({loader:()=>B((()=>__import__("./404.3b35bd66.js")),["/vite-react/assets/404.3b35bd66.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css"]),loading:_}),exact:!0}]},{component:f({loader:()=>B((()=>__import__("./404.3b35bd66.js")),["/vite-react/assets/404.3b35bd66.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css"]),loading:_}),exact:!0}]},{component:f({loader:()=>B((()=>__import__("./404.3b35bd66.js")),["/vite-react/assets/404.3b35bd66.js","/vite-react/assets/vendor.53115a9c.js","/vite-react/assets/vendor.0ee9cceb.css"]),loading:_}),exact:!0}]}))),document.getElementById("root"));export{P as g};
