var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,s=(a,t,r)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,n=(e,n)=>{for(var l in n||(n={}))a.call(n,l)&&s(e,l,n[l]);if(t)for(var l of t(n))r.call(n,l)&&s(e,l,n[l]);return e};import{u as l,r as c,n as o,T as m,W as i,q as p,L as u,M as g,t as d,v as E,f as y,w as f,x as b,A as v,y as h,z as x,C as P}from"./vendor.82a814d9.js";import{g as _}from"./index.c48877a7.js";var N="_main_1o5ev_5",w="_icon_1o5ev_19",O="_other_1o5ev_30",z="_prefixIcon_1o5ev_38";const C=({content:e})=>c.createElement(P,{style:{marginBottom:24},message:e,type:"error",showIcon:!0});export default()=>{const{state:e,connectedState:a,mr:t}=function(e,a,t){const{regOpt:r,ccClassKey:s}=function(e,a,t){const r=t||{},{setup:s,tag:n,extra:l,staticExtra:c,cuDesc:o,passCuDesc:m=!0,props:i={},ccClassKey:p}=r,u={module:e,connect:a,setup:s,props:i,tag:n,extra:l,staticExtra:c,cuDesc:null};return m&&(u.cuDesc=o),{regOpt:u,ccClassKey:p}}(e,a,t);return l(r,s)}("login",["loading"]),r=a.loading["login/login"],[s,P]=c.useState("account");return c.createElement("div",{className:N},c.createElement(o,{initialValues:{autoLogin:!0},submitter:{render:(e,a)=>a.pop(),submitButtonProps:{loading:r,size:"large",style:{width:"100%"}}},onFinish:e=>((e=>{t.login(n(n({},e),{type:s}))})(e),Promise.resolve())},c.createElement(m,{activeKey:s,onChange:P},c.createElement(m.TabPane,{key:"account",tab:"账户密码登录"}),c.createElement(m.TabPane,{key:"mobile",tab:"手机号登录"})),"error"===e.status&&"account"===e.type&&!r&&c.createElement(C,{content:"账户或密码错误（admin/vite-react)"}),"account"===s&&c.createElement(c.Fragment,null,c.createElement(i,{name:"userName",fieldProps:{size:"large",prefix:c.createElement(p,{className:z})},placeholder:"用户名: admin or user",rules:[{required:!0,message:"请输入用户名!"}]}),c.createElement(i.Password,{name:"password",fieldProps:{size:"large",prefix:c.createElement(u,{className:z})},placeholder:"密码: vite-react",rules:[{required:!0,message:"请输入密码！"}]})),"error"===e.status&&"mobile"===e.type&&!r&&c.createElement(C,{content:"验证码错误"}),"mobile"===s&&c.createElement(c.Fragment,null,c.createElement(i,{fieldProps:{size:"large",prefix:c.createElement(g,{className:z})},name:"mobile",placeholder:"手机号",rules:[{required:!0,message:"请输入手机号！"},{pattern:/^1\d{10}$/,message:"手机号格式错误！"}]}),c.createElement(d,{fieldProps:{size:"large",prefix:c.createElement(E,{className:z})},captchaProps:{size:"large"},placeholder:"请输入验证码",captchaTextRender:(e,a)=>e?`${a} '获取验证码'`:"获取验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码！"}],onGetCaptcha:async e=>{!1!==await _(e)&&y.success("获取验证码成功！验证码为：1234")}})),c.createElement("div",{style:{marginBottom:24}},c.createElement(f,{noStyle:!0,name:"autoLogin"},"自动登录"),c.createElement("a",{style:{float:"right"}},"忘记密码"))),c.createElement(b,{className:O},c.createElement("div",null,"其他登录方式"),c.createElement(v,{className:w}),c.createElement(h,{className:w}),c.createElement(x,{className:w})))};
