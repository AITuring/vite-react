import{a2 as t,r as e,a5 as n,g as a,k as r,d as o,N as i,a0 as c,a1 as s,a3 as l,ax as u,V as d,O as f,X as m,a4 as p,h as v,M as g,H as h,P as y,S as b,j as E,v as x,T as N,o as k}from"./index.edc1eb5a.js";var C,w=function e(n){return t(this,e),new Error("unreachable case: ".concat(JSON.stringify(n)))},O=0,S={};function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=O++,a=e;function r(){(a-=1)<=0?(t(),delete S[n]):S[n]=i(r)}return S[n]=i(r),n}function P(t){return!t||null===t.offsetParent||t.hidden}function A(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}T.cancel=function(t){void 0!==t&&(i.cancel(S[t]),delete S[t])},T.ids=S;var j=function(a){c(o,a);var r=s(o);function o(){var n;return t(this,o),(n=r.apply(this,arguments)).containerRef=e.createRef(),n.animationStart=!1,n.destroyed=!1,n.onClick=function(t,e){var a,r;if(!(!t||P(t)||t.className.indexOf("-leave")>=0)){var o=n.props.insertExtraNode;n.extraNode=document.createElement("div");var i=l(n).extraNode,c=n.context.getPrefixCls;i.className="".concat(c(""),"-click-animating-node");var s=n.getAttributeName();if(t.setAttribute(s,"true"),e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&A(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e){i.style.borderColor=e;var d=(null===(a=t.getRootNode)||void 0===a?void 0:a.call(t))||t.ownerDocument,f=d instanceof Document?d.body:null!==(r=d.firstChild)&&void 0!==r?r:d;C=u("\n      [".concat(c(""),"-click-animating-without-extra-node='true']::after, .").concat(c(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(e,";\n      }"),"antd-wave",{csp:n.csp,attachTo:f})}o&&t.appendChild(i),["transition","animation"].forEach((function(e){t.addEventListener("".concat(e,"start"),n.onTransitionStart),t.addEventListener("".concat(e,"end"),n.onTransitionEnd)}))}},n.onTransitionStart=function(t){if(!n.destroyed){var e=n.containerRef.current;t&&t.target===e&&!n.animationStart&&n.resetEffect(e)}},n.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&n.resetEffect(t.target)},n.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var e=function(e){if("INPUT"!==e.target.tagName&&!P(e.target)){n.resetEffect(t);var a=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");n.clickWaveTimeoutId=window.setTimeout((function(){return n.onClick(t,a)}),0),T.cancel(n.animationStartId),n.animationStart=!0,n.animationStartId=T((function(){n.animationStart=!1}),10)}};return t.addEventListener("click",e,!0),{cancel:function(){t.removeEventListener("click",e,!0)}}}},n.renderWave=function(t){var a=t.csp,r=n.props.children;if(n.csp=a,!e.isValidElement(r))return r;var o=n.containerRef;return d(r)&&(o=f(r.ref,n.containerRef)),m(r,{ref:o})},n}return p(o,[{key:"componentDidMount",value:function(){var t=this.containerRef.current;t&&1===t.nodeType&&(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,e=this.props.insertExtraNode;return"".concat(t(""),e?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var e=this;if(t&&t!==this.extraNode&&t instanceof Element){var n=this.props.insertExtraNode,a=this.getAttributeName();t.setAttribute(a,"false"),C&&(C.innerHTML=""),n&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach((function(n){t.removeEventListener("".concat(n,"start"),e.onTransitionStart),t.removeEventListener("".concat(n,"end"),e.onTransitionEnd)}))}}},{key:"render",value:function(){return e.createElement(n,null,this.renderWave)}}]),o}(e.Component);j.contextType=v;var I=function(){return{width:0,opacity:0,transform:"scale(0)"}},R=function(t){return{width:t.scrollWidth,opacity:1,transform:"scale(1)"}},L=function(t){var n=t.prefixCls,a=!!t.loading;return t.existIcon?e.createElement("span",{className:"".concat(n,"-loading-icon")},e.createElement(g,null)):e.createElement(h,{visible:a,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:I,onAppearActive:R,onEnterStart:I,onEnterActive:R,onLeaveStart:R,onLeaveActive:I},(function(t,a){var r=t.className,o=t.style;return e.createElement("span",{className:"".concat(n,"-loading-icon"),style:o,ref:a},e.createElement(g,{className:r}))}))},W=/^[\u4e00-\u9fa5]{2}$/,B=W.test.bind(W);function V(t){return"text"===t||"link"===t}function z(t,n){var a=!1,r=[];return e.Children.forEach(t,(function(t){var e=x(t),n="string"===e||"number"===e;if(a&&n){var o=r.length-1,i=r[o];r[o]="".concat(i).concat(t)}else r.push(t);a=n})),e.Children.map(r,(function(t){return function(t,n){if(null!=t){var a=n?" ":"";return"string"!=typeof t&&"number"!=typeof t&&"string"==typeof t.type&&B(t.props.children)?m(t,{children:t.props.children.split("").join(a)}):"string"==typeof t?(B(t)&&(t=t.split("").join(a)),e.createElement("span",null,t)):t}}(t,n)}))}y("default","primary","ghost","dashed","link","text"),y("circle","round"),y("submit","button","reset");var D=function(t,n){var i,c,s=t.loading,l=void 0!==s&&s,u=t.prefixCls,d=t.type,f=t.danger,m=t.shape,p=t.size,g=t.className,h=t.children,y=t.icon,C=t.ghost,w=void 0!==C&&C,O=t.block,S=void 0!==O&&O,T=t.htmlType,P=void 0===T?"button":T,A=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]])}return n}(t,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),I=e.useContext(b),R=e.useState(!!l),W=E(R,2),D=W[0],M=W[1],U=e.useState(!1),_=E(U,2),H=_[0],G=_[1],J=e.useContext(v),X=J.getPrefixCls,$=J.autoInsertSpaceInButton,q=J.direction,F=n||e.createRef(),K=e.useRef(),Q=function(){return 1===e.Children.count(h)&&!y&&!V(d)};c="object"===x(l)&&l.delay?l.delay||!0:!!l,e.useEffect((function(){clearTimeout(K.current),"number"==typeof c?K.current=window.setTimeout((function(){M(c)}),c):M(c)}),[c]),e.useEffect((function(){if(F&&F.current&&!1!==$){var t=F.current.textContent;Q()&&B(t)?H||G(!0):H&&G(!1)}}),[F]);var Y=function(e){var n,a=t.onClick;D||null===(n=a)||void 0===n||n(e)};N(!("string"==typeof y&&y.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(y,"` at https://ant.design/components/icon")),N(!(w&&V(d)),"Button","`link` or `text` button can't be a `ghost` button.");var Z=X("btn",u),tt=!1!==$,et="";switch(p||I){case"large":et="lg";break;case"small":et="sm"}var nt=D?"loading":y,at=a(Z,(r(i={},"".concat(Z,"-").concat(d),d),r(i,"".concat(Z,"-").concat(m),m),r(i,"".concat(Z,"-").concat(et),et),r(i,"".concat(Z,"-icon-only"),!h&&0!==h&&!!nt),r(i,"".concat(Z,"-background-ghost"),w&&!V(d)),r(i,"".concat(Z,"-loading"),D),r(i,"".concat(Z,"-two-chinese-chars"),H&&tt),r(i,"".concat(Z,"-block"),S),r(i,"".concat(Z,"-dangerous"),!!f),r(i,"".concat(Z,"-rtl"),"rtl"===q),i),g),rt=y&&!D?y:e.createElement(L,{existIcon:!!y,prefixCls:Z,loading:!!D}),ot=h||0===h?z(h,Q()&&tt):null,it=k(A,["navigate"]);if(void 0!==it.href)return e.createElement("a",o({},it,{className:at,onClick:Y,ref:F}),rt,ot);var ct=e.createElement("button",o({},A,{type:P,className:at,onClick:Y,ref:F}),rt,ot);return V(d)?ct:e.createElement(j,null,ct)},M=e.forwardRef(D);M.displayName="Button",M.Group=function(t){return e.createElement(n,null,(function(n){var i,c=n.getPrefixCls,s=n.direction,l=t.prefixCls,u=t.size,d=t.className,f=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]])}return n}(t,["prefixCls","size","className"]),m=c("btn-group",l),p="";switch(u){case"large":p="lg";break;case"small":p="sm";break;case"middle":case void 0:break;default:console.warn(new w(u))}var v=a(m,(r(i={},"".concat(m,"-").concat(p),p),r(i,"".concat(m,"-rtl"),"rtl"===s),i),d);return e.createElement("div",o({},f,{className:v}))}))},M.__ANT_BUTTON=!0;export{M as B,j as W,T as w};
