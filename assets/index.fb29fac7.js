var k=Object.defineProperty,O=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var B=(e,u,r)=>u in e?k(e,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[u]=r,p=(e,u)=>{for(var r in u||(u={}))R.call(u,r)&&B(e,r,u[r]);if(_)for(var r of _(u))I.call(u,r)&&B(e,r,u[r]);return e},D=(e,u)=>O(e,b(u));import{e as M,n as y,p as T,d as A,m as j,h as F,s as S,r as V,l as $,a,P as c,R as E,S as U,B as q,U as N,M as d,b as H,c as f,f as J,g as K}from"./vendor.6704840d.js";const W=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};W();const G={200:"\u670D\u52A1\u5668\u6210\u529F\u8FD4\u56DE\u8BF7\u6C42\u7684\u6570\u636E\u3002",201:"\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u6210\u529F\u3002",202:"\u4E00\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u8FDB\u5165\u540E\u53F0\u6392\u961F\uFF08\u5F02\u6B65\u4EFB\u52A1\uFF09\u3002",204:"\u5220\u9664\u6570\u636E\u6210\u529F\u3002",400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},Q=e=>{const{response:u}=e;if(u&&u.status){const r=G[u.status]||u.statusText,{status:o,url:t}=u;y.error({message:`\u8BF7\u6C42\u9519\u8BEF ${o}: ${t}`,description:r})}else u||y.error({description:"\u60A8\u7684\u7F51\u7EDC\u53D1\u751F\u5F02\u5E38\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u670D\u52A1\u5668",message:"\u7F51\u7EDC\u5F02\u5E38"});return u},g=M({errorHandler:Q,credentials:"include"});async function X(e){return g("/api/login/account",{method:"POST",data:e})}async function fe(e){return g(`/api/login/captcha?mobile=${e}`)}const C=()=>T(window.location.href.split("?")[1]),w=A({state:{status:"",type:""},reducer:{login:async(e,u,r)=>{const o=await X(e);if(r.dispatch(w.reducer.changeLoginStatus,o),o.status==="ok"){localStorage.setItem("status","ok");const t=new URL(window.location.href),s=C();j.success("\u{1F389} \u{1F389} \u{1F389}  \u767B\u5F55\u6210\u529F\uFF01");let{redirect:n}=s;if(n)if(new URL(n).origin===t.origin)n=n.substr(t.origin.length),window.routerBase!=="/"&&(n=n.replace(window.routerBase,"/")),n.match(/^\/.*#/)&&(n=n.substr(n.indexOf("#")+1));else{window.location.href="/";return}F.replace(n||"/")}},logout(){localStorage.removeItem("status");const{redirect:e}=C();window.location.pathname!=="/user/login"&&!e&&F.replace({pathname:"/user/login",search:S({redirect:window.location.href})})},changeLoginStatus(e){return{status:e.status,type:e.type}}}});async function z(){return g("/api/me")}const Y=A({state:{address:"",avatar:"",email:"",name:"",position:""},reducer:{fetchMe:async()=>(await z()).data}}),Z={state:{num:1,max:100}};var ee={login:w,me:Y,counter:Z};V(ee,{plugins:[$]});const ue="modulepreload",v={},te="/vite-react/",i=function(u,r){return!r||r.length===0?u():Promise.all(r.map(o=>{if(o=`${te}${o}`,o in v)return;v[o]=!0;const t=o.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const n=document.createElement("link");if(n.rel=t?"stylesheet":ue,t||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),t)return new Promise((m,l)=>{n.addEventListener("load",m),n.addEventListener("error",l)})})).then(()=>u())};function re(){return[{path:"/",component:a({loader:()=>i(()=>import("./BlankLayout.a4561d77.js"),["assets/BlankLayout.a4561d77.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css"]),loading:c}),routes:[{path:"/user",component:a({loader:()=>i(()=>import("./UserLayout.75d5cd55.js"),["assets/UserLayout.75d5cd55.js","assets/UserLayout.974c9d80.css","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.1b93bfe2.js"]),loading:c}),routes:[{name:"\u767B\u5F55",path:"/user/login",component:a({loader:()=>i(()=>import("./index.58972561.js"),["assets/index.58972561.js","assets/index.a3555e17.css","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.c534e0b2.js","assets/index.cd256673.css","assets/concent.9c2ed1e8.js"]),loading:c}),exact:!0}]},{path:"/",component:a({loader:()=>i(()=>import("./SecurityLayout.a61a0fd2.js"),["assets/SecurityLayout.a61a0fd2.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css"]),loading:c}),routes:[{path:"/",component:a({loader:()=>i(()=>import("./BasicLayout.5a609cb9.js"),["assets/BasicLayout.5a609cb9.js","assets/BasicLayout.99b204e9.css","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.c534e0b2.js","assets/index.cd256673.css","assets/index.1b93bfe2.js"]),loading:c}),routes:[{path:"/",redirect:"/welcome",exact:!0},{path:"/welcome",icon:E.createElement(U),name:"\u6B22\u8FCE\u9875",component:a({loader:()=>i(()=>import("./index.1cc00414.js"),["assets/index.1cc00414.js","assets/index.20e059a1.css","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.69b49928.js","assets/index.c7641209.css"]),loading:c}),exact:!0},{path:"/concent",icon:E.createElement(q),name:"Concent Demo",routes:[{path:"/concent/hello-world",name:"Hello World",component:a({loader:()=>i(()=>import("./index.19bf6ca9.js"),["assets/index.19bf6ca9.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.69b49928.js","assets/index.c7641209.css","assets/concent.9c2ed1e8.js"]),loading:c}),exact:!0}]},{path:"/account",icon:E.createElement(N),name:"\u4E2A\u4EBA\u9875",routes:[{path:"/account/center",name:"\u4E2A\u4EBA\u4E2D\u5FC3",component:a({loader:()=>i(()=>import("./index.3b446234.js"),["assets/index.3b446234.js","assets/index.3bb4b90a.css","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.69b49928.js","assets/index.c7641209.css","assets/index.59ae48c5.js"]),loading:c}),exact:!0},{path:"/account/settings",name:"\u4E2A\u4EBA\u8BBE\u7F6E",component:a({loader:()=>i(()=>import("./index.6e7bf795.js"),["assets/index.6e7bf795.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css","assets/index.69b49928.js","assets/index.c7641209.css","assets/index.59ae48c5.js"]),loading:c}),exact:!0}]}]},{component:a({loader:()=>i(()=>import("./404.1fc83737.js"),["assets/404.1fc83737.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css"]),loading:c}),exact:!0}]},{component:a({loader:()=>i(()=>import("./404.1fc83737.js"),["assets/404.1fc83737.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css"]),loading:c}),exact:!0}]},{component:a({loader:()=>i(()=>import("./404.1fc83737.js"),["assets/404.1fc83737.js","assets/vendor.6704840d.js","assets/vendor.00988cc4.css"]),loading:c}),exact:!0}]}var oe=[{url:"/api/login/account",method:"post",timeout:240,response:({body:e})=>{const{password:u,userName:r,type:o}=e;return u==="vite-react"&&r==="admin"?{status:"ok",type:o,authority:"admin"}:u==="vite-react"&&r==="user"?{status:"ok",type:o,authority:"user"}:o==="mobile"?{status:"ok",type:o,authority:"admin"}:{status:"error",type:o,authority:"guest"}}},{url:"/api/login/captcha",method:"get",timeout:240,response:()=>({code:0,data:"captcha-xxx"})}],ne=[{url:"/api/me",method:"get",timeout:240,response:()=>({code:0,data:{address:"\u5E7F\u4E1C\u6DF1\u5733",avatar:"https://avatars.githubusercontent.com/u/18096089?s=460&u=ac70c17caf8cb7e48d0a4f8b8ef28825688cbb8d&v=4",email:"yuns.xie@qq.com",name:"\u4E91\u6DF1",position:"\u524D\u7AEF\u5F00\u53D1\u5DE5\u7A0B\u5E08"}})}],se=[...oe,...ne];function x(e){return`${window.routerBase==="/"?"":window.routerBase}${e}`.replace(/\/\//g,"/")}function ae(e=0){e&&d.setup({timeout:e})}function ce(e){for(const{url:u,method:r,response:o,timeout:t}of e)ae(t),d.mock(new RegExp(x(u)),r||"get",o)}const h="__fetchBackup__";function ie(e){const u=e.split("?")[1];return u?JSON.parse('{"'+decodeURIComponent(u).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}function le(e){try{return JSON.parse(e)}catch(u){return console.log("loadBody error",u),e}}function de(e){const u=p({},e);return(e==null?void 0:e.method)||(u.method="GET"),(e==null?void 0:e.body)&&(u.body=le(e.body)),u}function me(e,u,r){let o=d.XHR._settings.timeout||"200-400";if(typeof o=="string"){const t=o.split("-").map(s=>parseInt(s));o=t[0]+Math.round(Math.random()*(t[1]-t[0]))}return new Promise(t=>{const s=typeof r.template=="function"?r.template.call(this,{query:ie(e),body:u==null?void 0:u.body,headers:u==null?void 0:u.headers}):d.mock(r.template);setTimeout(()=>{const n={status:200,text(){return Promise.resolve(JSON.stringify(s))},json(){return Promise.resolve(s)},blob(){return Promise.resolve(s)},formData(){return Promise.resolve(s)},arrayBuffer(){return Promise.resolve(s)}};t(D(p({},n),{clone(){return n}}))},o)})}function pe(){if(!d||!d.mock)throw new Error("Mock.js is required.");window[h]||(window[h]=window.fetch,window.fetch=function(e,u){const r=x(e),o=de(u),t=o.method;console.log(`${t} ${r}`,"init: ",o);const s=d._mocked,n=Object.keys(s).find(m=>{const l=s[m],L=typeof l.rurl=="string"&&l.rurl.indexOf(r)>=0||l.rurl instanceof RegExp&&l.rurl.test(r),P=!l.rtype||l.rtype.toLowerCase()===o.method.toLowerCase();return L&&P});return n?me(r,o,s[n]):window[h](e,u)})}pe();ce(se);H.render(f.exports.createElement(f.exports.StrictMode,null,f.exports.createElement(J,{history:F},K({routes:re()}))),document.getElementById("root"));export{fe as g};
